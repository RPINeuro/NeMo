\hypertarget{neuron_8c}{}\section{/\+Users/\+Mark/\+Development/\+True\+North/tnt\+\_\+benchmark/models/neuron.c File Reference}
\label{neuron_8c}\index{/\+Users/\+Mark/\+Development/\+True\+North/tnt\+\_\+benchmark/models/neuron.\+c@{/\+Users/\+Mark/\+Development/\+True\+North/tnt\+\_\+benchmark/models/neuron.\+c}}
{\ttfamily \#include \char`\"{}neuron.\+h\char`\"{}}\\*
Include dependency graph for neuron.\+c\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=338pt]{neuron_8c__incl}
\end{center}
\end{figure}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{neuron_8c_ae630bdf5dd3744870968f07a6971659c}{integrate\+Synapse} (\hyperlink{assist_8h_a3f7a6e6a1210b6d9d7a42177dcb9634b}{\+\_\+id\+T} synapse\+I\+D, \hyperlink{structneuron_state}{neuron\+State} $\ast$st, tw\+\_\+lp $\ast$lp)
\begin{DoxyCompactList}\small\item\em function that adds a synapse\textquotesingle{}s value to the current neuron\textquotesingle{}s membrane potential. \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{Indent}{\bf Leak\+Functions}\par
{\em Neuron functions that manage leaks.

All voltage state saving must be handled in the neuron event function \hyperlink{neuron_8c_aa6819d7492f0173f2234ba0b8b0bb674}{neuron\+Receive\+Message()}. }\begin{DoxyCompactItemize}
\item 
void \hyperlink{neuron_8c_a8e52befc10f975c6be39cc93af573d7e}{no\+Leak} (void $\ast$neuron, tw\+\_\+stime now)
\begin{DoxyCompactList}\small\item\em no\+Leak -\/ A non leaking neuron function. \end{DoxyCompactList}\item 
void \hyperlink{neuron_8c_ac5bebec77c5216533ec5f6acd086532e}{rev\+No\+Leak} (void $\ast$neuron, tw\+\_\+stime now)
\begin{DoxyCompactList}\small\item\em Reverse leak function for use when neurons have no defined leak function. \end{DoxyCompactList}\item 
void \hyperlink{neuron_8c_a64dc379b459a2b07b40bce35381210e8}{linear\+Leak} (void $\ast$neuron, tw\+\_\+stime now)
\begin{DoxyCompactList}\small\item\em A linear leak function. \end{DoxyCompactList}\item 
void \hyperlink{neuron_8c_a26ced40d7ad7a0b448a136d8724fe18b}{rev\+Linear\+Leak} (void $\ast$neuron, tw\+\_\+stime now)
\begin{DoxyCompactList}\small\item\em Reverse leak function neurons that have a linear leak function assigned. \end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}
\begin{Indent}{\bf Reset\+Functions}\par
{\em Reset function defs.

Neuron reset functions will change the neuron state without saving the previous state. All voltage state saving must be handled in the neuron event function \hyperlink{neuron_8c_aa6819d7492f0173f2234ba0b8b0bb674}{neuron\+Receive\+Message()}. \begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000002}{Todo}]\+: Check that reverse reset functions are needed, since previous voltage is stored in the neuron. \end{DoxyRefDesc}
}\begin{DoxyCompactItemize}
\item 
void \hyperlink{neuron_8c_a7f8eaa35f03747c795a2b727b364537b}{reset\+Zero} (void $\ast$\hyperlink{structneuron_state}{neuron\+State})
\begin{DoxyCompactList}\small\item\em Resets neuron voltage to 0 after firing. \end{DoxyCompactList}\item 
void \hyperlink{neuron_8c_a2e78d7d2b70bf7349c3854b3727dcc25}{reset\+Linear} (void $\ast$\hyperlink{structneuron_state}{neuron\+State})
\begin{DoxyCompactList}\small\item\em Resets neuron voltage based on linear function. \end{DoxyCompactList}\item 
void \hyperlink{neuron_8c_a09e54832158e2f6abe898437979aae00}{reverse\+Reset\+Linear} (void $\ast$\hyperlink{structneuron_state}{neuron\+State})
\item 
void \hyperlink{neuron_8c_ae53276ccdb759ba1ea09806cbf9fc940}{reverse\+Reset\+Zero} (void $\ast$\hyperlink{structneuron_state}{neuron\+State})
\end{DoxyCompactItemize}
\end{Indent}
\begin{Indent}{\bf Neuron\+Functions}\par
{\em Main neuron functions and behaviors }\begin{DoxyCompactItemize}
\item 
void \hyperlink{neuron_8c_aa6819d7492f0173f2234ba0b8b0bb674}{neuron\+Receive\+Message} (\hyperlink{structneuron_state}{neuron\+State} $\ast$st, tw\+\_\+stime time, \hyperlink{struct_msg___data}{Msg\+\_\+\+Data} $\ast$m, tw\+\_\+lp $\ast$lp)
\begin{DoxyCompactList}\small\item\em handles incomming synapse messages. \end{DoxyCompactList}\item 
bool \hyperlink{neuron_8c_a92d5882a15e11e2a6733483d51428e46}{neuron\+Should\+Fire} (\hyperlink{structneuron_state}{neuron\+State} $\ast$st)
\begin{DoxyCompactList}\small\item\em Checks to see if a neuron should fire. \end{DoxyCompactList}\item 
void \hyperlink{neuron_8c_ae071ef984b7e0dd4ec38fca91e0abe39}{neuron\+Fire} (\hyperlink{structneuron_state}{neuron\+State} $\ast$st, tw\+\_\+stime time, \hyperlink{struct_msg___data}{Msg\+\_\+\+Data} $\ast$m)
\begin{DoxyCompactList}\small\item\em neuron\+Fire manages a firing event. \end{DoxyCompactList}\item 
void \hyperlink{neuron_8c_ab1f4997e4bfe11e78faa6d37748aee67}{neuron\+Post\+Fire} (\hyperlink{structneuron_state}{neuron\+State} $\ast$st, tw\+\_\+stime time, \hyperlink{struct_msg___data}{Msg\+\_\+\+Data} $\ast$m)
\begin{DoxyCompactList}\small\item\em neuron\+Post\+Fire manages post-\/firing events, including reset functions \end{DoxyCompactList}\item 
void \hyperlink{neuron_8c_a06ee765bfae45fe9b7f0619bf4abe63d}{generate\+Wait\+Event} (\hyperlink{structneuron_state}{neuron\+State} $\ast$st, tw\+\_\+stime time, tw\+\_\+lp $\ast$lp)
\begin{DoxyCompactList}\small\item\em generate\+Wait\+Event creates a new wait event to this neuron for big-\/tick synchronization \end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}


\subsection{Function Documentation}
\hypertarget{neuron_8c_a06ee765bfae45fe9b7f0619bf4abe63d}{}\index{neuron.\+c@{neuron.\+c}!generate\+Wait\+Event@{generate\+Wait\+Event}}
\index{generate\+Wait\+Event@{generate\+Wait\+Event}!neuron.\+c@{neuron.\+c}}
\subsubsection[{generate\+Wait\+Event}]{\setlength{\rightskip}{0pt plus 5cm}void generate\+Wait\+Event (
\begin{DoxyParamCaption}
\item[{{\bf neuron\+State} $\ast$}]{st, }
\item[{tw\+\_\+stime}]{time, }
\item[{tw\+\_\+lp $\ast$}]{lp}
\end{DoxyParamCaption}
)}\label{neuron_8c_a06ee765bfae45fe9b7f0619bf4abe63d}


generate\+Wait\+Event creates a new wait event to this neuron for big-\/tick synchronization 



Definition at line \hyperlink{neuron_8c_source_l00172}{172} of file \hyperlink{neuron_8c_source}{neuron.\+c}.


\begin{DoxyCode}
00172                                                                  \{
00173 
00174 \}
\end{DoxyCode}
\hypertarget{neuron_8c_ae630bdf5dd3744870968f07a6971659c}{}\index{neuron.\+c@{neuron.\+c}!integrate\+Synapse@{integrate\+Synapse}}
\index{integrate\+Synapse@{integrate\+Synapse}!neuron.\+c@{neuron.\+c}}
\subsubsection[{integrate\+Synapse}]{\setlength{\rightskip}{0pt plus 5cm}void integrate\+Synapse (
\begin{DoxyParamCaption}
\item[{{\bf \+\_\+id\+T}}]{synapse\+I\+D, }
\item[{{\bf neuron\+State} $\ast$}]{st, }
\item[{tw\+\_\+lp $\ast$}]{lp}
\end{DoxyParamCaption}
)}\label{neuron_8c_ae630bdf5dd3744870968f07a6971659c}


function that adds a synapse\textquotesingle{}s value to the current neuron\textquotesingle{}s membrane potential. 


\begin{DoxyParams}{Parameters}
{\em synapse\+I\+D} & local\+I\+D of the synapse sending the message. \\
\hline
\end{DoxyParams}


Definition at line \hyperlink{neuron_8c_source_l00175}{175} of file \hyperlink{neuron_8c_source}{neuron.\+c}.

\hypertarget{neuron_8c_a64dc379b459a2b07b40bce35381210e8}{}\index{neuron.\+c@{neuron.\+c}!linear\+Leak@{linear\+Leak}}
\index{linear\+Leak@{linear\+Leak}!neuron.\+c@{neuron.\+c}}
\subsubsection[{linear\+Leak}]{\setlength{\rightskip}{0pt plus 5cm}void linear\+Leak (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{neuron, }
\item[{tw\+\_\+stime}]{now}
\end{DoxyParamCaption}
)}\label{neuron_8c_a64dc379b459a2b07b40bce35381210e8}


A linear leak function. 

Linear\+Leak is the standard linear leak function from the paper. Using the leak\+Rate parameter inside \hyperlink{struct_neuron_model}{the neuron state }, this follows a simple linear function, reducing the membrane potential by a fixed rate per tick.

\begin{DoxySeeAlso}{See also}
\hyperlink{struct_neuron_model}{Neuron\+Model} 
\end{DoxySeeAlso}


Definition at line \hyperlink{neuron_8c_source_l00028}{28} of file \hyperlink{neuron_8c_source}{neuron.\+c}.


\begin{DoxyCode}
00028                                             \{
00029     \hyperlink{structneuron_state}{neuronState} *s = (\hyperlink{structneuron_state}{neuronState} *)neuron;
00030     tw\_stime bigTick = \hyperlink{assist_8c_a4d378196b7fceed090d64ec8820b4065}{getCurrentBigTick}(now);
00031     tw\_stime delta = bigTick - s->\hyperlink{structneuron_state_a6f4e4d8fc1cf0257b486e01f628d2656}{lastLeakTime};
00032 
00033     s->\hyperlink{structneuron_state_a0fdd8f44c4105a94e17c4c58a51db486}{membranePot} -= s->leakRate * delta;
00034     s->\hyperlink{structneuron_state_a6f4e4d8fc1cf0257b486e01f628d2656}{lastLeakTime} = now;
00035 \}
\end{DoxyCode}
\hypertarget{neuron_8c_ae071ef984b7e0dd4ec38fca91e0abe39}{}\index{neuron.\+c@{neuron.\+c}!neuron\+Fire@{neuron\+Fire}}
\index{neuron\+Fire@{neuron\+Fire}!neuron.\+c@{neuron.\+c}}
\subsubsection[{neuron\+Fire}]{\setlength{\rightskip}{0pt plus 5cm}void neuron\+Fire (
\begin{DoxyParamCaption}
\item[{{\bf neuron\+State} $\ast$}]{st, }
\item[{tw\+\_\+stime}]{time, }
\item[{{\bf Msg\+\_\+\+Data} $\ast$}]{m}
\end{DoxyParamCaption}
)}\label{neuron_8c_ae071ef984b7e0dd4ec38fca91e0abe39}


neuron\+Fire manages a firing event. 

Firing events occur when a synchro message is received, so these calculations are done on big-\/ticks only. 

Definition at line \hyperlink{neuron_8c_source_l00166}{166} of file \hyperlink{neuron_8c_source}{neuron.\+c}.


\begin{DoxyCode}
00166                                                             \{
00167 
00168 \}
\end{DoxyCode}
\hypertarget{neuron_8c_ab1f4997e4bfe11e78faa6d37748aee67}{}\index{neuron.\+c@{neuron.\+c}!neuron\+Post\+Fire@{neuron\+Post\+Fire}}
\index{neuron\+Post\+Fire@{neuron\+Post\+Fire}!neuron.\+c@{neuron.\+c}}
\subsubsection[{neuron\+Post\+Fire}]{\setlength{\rightskip}{0pt plus 5cm}void neuron\+Post\+Fire (
\begin{DoxyParamCaption}
\item[{{\bf neuron\+State} $\ast$}]{st, }
\item[{tw\+\_\+stime}]{time, }
\item[{{\bf Msg\+\_\+\+Data} $\ast$}]{m}
\end{DoxyParamCaption}
)}\label{neuron_8c_ab1f4997e4bfe11e78faa6d37748aee67}


neuron\+Post\+Fire manages post-\/firing events, including reset functions 



Definition at line \hyperlink{neuron_8c_source_l00169}{169} of file \hyperlink{neuron_8c_source}{neuron.\+c}.


\begin{DoxyCode}
00169                                                                 \{
00170 
00171 \}
\end{DoxyCode}
\hypertarget{neuron_8c_aa6819d7492f0173f2234ba0b8b0bb674}{}\index{neuron.\+c@{neuron.\+c}!neuron\+Receive\+Message@{neuron\+Receive\+Message}}
\index{neuron\+Receive\+Message@{neuron\+Receive\+Message}!neuron.\+c@{neuron.\+c}}
\subsubsection[{neuron\+Receive\+Message}]{\setlength{\rightskip}{0pt plus 5cm}void neuron\+Receive\+Message (
\begin{DoxyParamCaption}
\item[{{\bf neuron\+State} $\ast$}]{st, }
\item[{tw\+\_\+stime}]{time, }
\item[{{\bf Msg\+\_\+\+Data} $\ast$}]{m, }
\item[{tw\+\_\+lp $\ast$}]{lp}
\end{DoxyParamCaption}
)}\label{neuron_8c_aa6819d7492f0173f2234ba0b8b0bb674}


handles incomming synapse messages. 

neruon\+Receive\+Message runs when an event is received by a neuron. The events are handled in the following fashion\+:
\begin{DoxyItemize}
\item If the event is a synapse, the neuron integrates the weight of the synapse into its membrane potential.
\begin{DoxyItemize}
\item The count of big-\/tick synapse messages recived is incremented.
\item If the count changes from zero to one, the function creates and queues a heartbeat event for the next big-\/tick.
\end{DoxyItemize}
\item If the event is a heartbeat, the neuron will leak, potentially fire, and reset.
\end{DoxyItemize}

Big-\/\+Tick events are sent at time $𝒯_{bigTick} - ε$, so that the the event will arrive at the next bit-\/tick time. 

Definition at line \hyperlink{neuron_8c_source_l00104}{104} of file \hyperlink{neuron_8c_source}{neuron.\+c}.



References \hyperlink{assist_8h_source_l00049}{Msg\+\_\+\+Data\+::event\+Type}, \hyperlink{neuron_8h_source_l00198}{neuron\+State\+::fire\+Count}, \hyperlink{neuron_8h_source_l00146}{neuron\+State\+::membrane\+Pot}, \hyperlink{assist_8h_source_l00043}{N\+E\+U\+R\+O\+N\+\_\+\+H\+E\+A\+R\+T\+B\+E\+A\+T}, \hyperlink{neuron_8c_source_l00157}{neuron\+Should\+Fire()}, \hyperlink{neuron_8h_source_l00199}{neuron\+State\+::rcvd\+Msg\+Count}, \hyperlink{neuron_8h_source_l00157}{neuron\+State\+::received\+Synapse\+Msgs}, \hyperlink{neuron_8h_source_l00147}{neuron\+State\+::saved\+Membrane\+Pot}, and \hyperlink{neuron_8h_source_l00200}{neuron\+State\+::\+S\+O\+P\+S\+Count}.


\begin{DoxyCode}
00105           \{
00106     \textcolor{keywordtype}{bool} willFire = \textcolor{keyword}{false};
00107         \textcolor{comment}{//save the previous state of the neuron:}
00108     st->\hyperlink{structneuron_state_a50734a9ba605a083a90814b63d039a03}{savedLastLeakTime} = st->\hyperlink{structneuron_state_a6f4e4d8fc1cf0257b486e01f628d2656}{lastLeakTime};
00109     st->\hyperlink{structneuron_state_a6922b3f3041346eb83cfc6352a22277b}{savedLastActiveTime} = st->\hyperlink{structneuron_state_a0658ad1f8b57a00589c6ea84f9a4ab13}{lastActiveTime};
00110     st->\hyperlink{structneuron_state_a5efe5de0478ea513ed5d90d89a49fcca}{savedMembranePot} = st->\hyperlink{structneuron_state_a0fdd8f44c4105a94e17c4c58a51db486}{membranePot};
00111         \textcolor{comment}{//random fn call state management.}
00112     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} startCount = lp->rng->count;
00113 
00114     \textcolor{keywordflow}{switch} (m->\hyperlink{struct_msg___data_a015b6eb45982e1842ee8fc389a099ced}{eventType}) \{
00115   \textcolor{keywordflow}{case} \hyperlink{assist_8h_a7c1688de451e0dea1e11617bce3ec450a6ad6b93d8a818550e7246f6e0d143afb}{SYNAPSE\_OUT}:
00116             \hyperlink{neuron_8c_ae630bdf5dd3744870968f07a6971659c}{integrateSynapse}(m->\hyperlink{struct_msg___data_aefc820e92a74047ec7ed74c1c45f818f}{localID}, st, lp);
00117 
00118                 \textcolor{comment}{//next, we will check if a heartbeat message should be sent}
00119             \textcolor{keywordflow}{if}(st->\hyperlink{structneuron_state_af8935bcba177f2f3dfb9119c39ef7dc5}{receivedSynapseMsgs} == 0) \{
00120                 \hyperlink{neuron_8h_a766dff9e530486b055e97ebe392268b8}{sendHeartbeat}(st, lp, time);
00121             \}
00122             st->\hyperlink{structneuron_state_af8935bcba177f2f3dfb9119c39ef7dc5}{receivedSynapseMsgs} ++;
00123 
00124 
00125             \textcolor{keywordflow}{break};
00126 
00127         \textcolor{keywordflow}{case} \hyperlink{assist_8h_a7c1688de451e0dea1e11617bce3ec450a226690009a653238a52339561e6c466e}{NEURON\_HEARTBEAT}:
00128             st->\hyperlink{structneuron_state_af8935bcba177f2f3dfb9119c39ef7dc5}{receivedSynapseMsgs} = 0;
00129 
00130                 \textcolor{comment}{//Currently operates - leak->fire->(reset)}
00131             st->\hyperlink{structneuron_state_aa430f424f34dc59dc27736e27ec61320}{doLeak}(st, time);
00132             willFire = \hyperlink{neuron_8c_a92d5882a15e11e2a6733483d51428e46}{neuronShouldFire}(st);
00133             \textcolor{keywordflow}{if}(willFire)\{
00134                 \hyperlink{neuron_8c_ae071ef984b7e0dd4ec38fca91e0abe39}{neuronFire}(st, time, m);
00135                 \hyperlink{neuron_8c_ab1f4997e4bfe11e78faa6d37748aee67}{neuronPostFire}(st, time, m);
00136                 st->\hyperlink{structneuron_state_afe8825076c4cf3863c677307fec63c61}{fireCount} ++;
00137             \}
00138 
00139             \hyperlink{neuron_8h_adadd3095c39786607629697406f3d1eb}{neuronPostIntegrate}(st, time, lp, willFire);
00140             \textcolor{comment}{//stats collection}
00141             st->\hyperlink{structneuron_state_a71fbb9a79e8048b473b6e09d29a64bbe}{SOPSCount} ++;
00142             \textcolor{keywordflow}{break};
00143 
00144   \textcolor{keywordflow}{default}:
00145                 \textcolor{comment}{//Error condition - non-valid input.}
00146             \textcolor{keywordflow}{break};
00147     \}
00148 
00149         \textcolor{comment}{//store the random calls in the message:}
00150     m->\hyperlink{struct_msg___data_a2e49a6bcc6c45ade722f746b1ea707f2}{rndCallCount} = lp->rng->count - startCount;
00151 
00152     st->\hyperlink{structneuron_state_ab8f63a1dfdb2992657530ff8a63fdc01}{rcvdMsgCount} ++;
00153 
00154 
00155 
00156 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=335pt]{neuron_8c_aa6819d7492f0173f2234ba0b8b0bb674_cgraph}
\end{center}
\end{figure}


\hypertarget{neuron_8c_a92d5882a15e11e2a6733483d51428e46}{}\index{neuron.\+c@{neuron.\+c}!neuron\+Should\+Fire@{neuron\+Should\+Fire}}
\index{neuron\+Should\+Fire@{neuron\+Should\+Fire}!neuron.\+c@{neuron.\+c}}
\subsubsection[{neuron\+Should\+Fire}]{\setlength{\rightskip}{0pt plus 5cm}bool neuron\+Should\+Fire (
\begin{DoxyParamCaption}
\item[{{\bf neuron\+State} $\ast$}]{st}
\end{DoxyParamCaption}
)}\label{neuron_8c_a92d5882a15e11e2a6733483d51428e46}


Checks to see if a neuron should fire. 

\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000005}{Todo}]check to see if this is needed, since it looks like just a simple if statement is in order.\end{DoxyRefDesc}



\begin{DoxyParams}{Parameters}
{\em st} & neuron state\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if the neuron is ready to fire. 
\end{DoxyReturn}


Definition at line \hyperlink{neuron_8c_source_l00157}{157} of file \hyperlink{neuron_8c_source}{neuron.\+c}.



References \hyperlink{neuron_8h_source_l00146}{neuron\+State\+::membrane\+Pot}, and \hyperlink{neuron_8h_source_l00148}{neuron\+State\+::threshold}.



Referenced by \hyperlink{neuron_8c_source_l00104}{neuron\+Receive\+Message()}.


\begin{DoxyCode}
00157                                       \{
00158         \textcolor{comment}{//check negative threshold values:}
00159     \textcolor{keywordflow}{if}(st->\hyperlink{structneuron_state_a0fdd8f44c4105a94e17c4c58a51db486}{membranePot} < ) \{
00160         \textcolor{keywordflow}{if}(st->\hyperlink{structneuron_state_a3ec480684e7a2cfc67a8ef7ac1bf57b9}{negThresReset}) \{
00161                 \textcolor{comment}{//reset to \(\backslash\)f$－β\_j\(\backslash\)f$}
00162         \}
00163     \}
00164     \textcolor{keywordflow}{return} st->\hyperlink{structneuron_state_a0fdd8f44c4105a94e17c4c58a51db486}{membranePot} > st->\hyperlink{structneuron_state_a132470c4c17828c209e3403ccf7ee680}{threshold};
00165 \}
\end{DoxyCode}
\hypertarget{neuron_8c_a8e52befc10f975c6be39cc93af573d7e}{}\index{neuron.\+c@{neuron.\+c}!no\+Leak@{no\+Leak}}
\index{no\+Leak@{no\+Leak}!neuron.\+c@{neuron.\+c}}
\subsubsection[{no\+Leak}]{\setlength{\rightskip}{0pt plus 5cm}void no\+Leak (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{neuron, }
\item[{tw\+\_\+stime}]{now}
\end{DoxyParamCaption}
)}\label{neuron_8c_a8e52befc10f975c6be39cc93af573d7e}


no\+Leak -\/ A non leaking neuron function. 


\begin{DoxyParams}{Parameters}
{\em neuron} & The current neuron state. \\
\hline
{\em now} & The current simulation time. \\
\hline
\end{DoxyParams}


Definition at line \hyperlink{neuron_8c_source_l00016}{16} of file \hyperlink{neuron_8c_source}{neuron.\+c}.


\begin{DoxyCode}
00016                                         \{
00017   \textcolor{comment}{// do nothing!!}
00018 \}
\end{DoxyCode}
\hypertarget{neuron_8c_a2e78d7d2b70bf7349c3854b3727dcc25}{}\index{neuron.\+c@{neuron.\+c}!reset\+Linear@{reset\+Linear}}
\index{reset\+Linear@{reset\+Linear}!neuron.\+c@{neuron.\+c}}
\subsubsection[{reset\+Linear}]{\setlength{\rightskip}{0pt plus 5cm}void reset\+Linear (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{neuron\+State}
\end{DoxyParamCaption}
)}\label{neuron_8c_a2e78d7d2b70bf7349c3854b3727dcc25}


Resets neuron voltage based on linear function. 

Note\+: Linear functions use the \hyperlink{assist_8h_abe1fc1b8f9efd1187e564bcb8de7f815}{volt\+T } data type. If a neuron uses a linear reset, this parameter must be set upon neuron creation. \begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000003}{Todo}]\+: Check implementation against paper.\end{DoxyRefDesc}


Definition at line \hyperlink{neuron_8c_source_l00067}{67} of file \hyperlink{neuron_8c_source}{neuron.\+c}.



References \hyperlink{neuron_8h_source_l00146}{neuron\+State\+::membrane\+Pot}.


\begin{DoxyCode}
00067                                     \{
00068     \textcolor{keyword}{struct }\hyperlink{struct_neuron_model}{NeuronModel} *s = (\textcolor{keyword}{struct }\hyperlink{struct_neuron_model}{NeuronModel} *)
      \hyperlink{structneuron_state}{neuronState};
00069   \textcolor{comment}{// reduce the value of the neuron based on the linear reduction function}
00070   \textcolor{comment}{// in the paper}
00071     \hyperlink{assist_8h_abe1fc1b8f9efd1187e564bcb8de7f815}{\_voltT} resetParam = (\hyperlink{assist_8h_abe1fc1b8f9efd1187e564bcb8de7f815}{\_voltT}) &resetParam;
00072   s->membranePot = s->membranePot - resetParam;
00073 \}
\end{DoxyCode}
\hypertarget{neuron_8c_a7f8eaa35f03747c795a2b727b364537b}{}\index{neuron.\+c@{neuron.\+c}!reset\+Zero@{reset\+Zero}}
\index{reset\+Zero@{reset\+Zero}!neuron.\+c@{neuron.\+c}}
\subsubsection[{reset\+Zero}]{\setlength{\rightskip}{0pt plus 5cm}void reset\+Zero (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{neuron\+State}
\end{DoxyParamCaption}
)}\label{neuron_8c_a7f8eaa35f03747c795a2b727b364537b}


Resets neuron voltage to 0 after firing. 


\begin{DoxyParams}{Parameters}
{\em \hyperlink{structneuron_state}{neuron\+State}} & current neuron state \\
\hline
\end{DoxyParams}


Definition at line \hyperlink{neuron_8c_source_l00056}{56} of file \hyperlink{neuron_8c_source}{neuron.\+c}.



References \hyperlink{neuron_8h_source_l00146}{neuron\+State\+::membrane\+Pot}.


\begin{DoxyCode}
00056                                   \{
00057     \textcolor{keyword}{struct }\hyperlink{struct_neuron_model}{NeuronModel} *s = (\textcolor{keyword}{struct }\hyperlink{struct_neuron_model}{NeuronModel} *)
      \hyperlink{structneuron_state}{neuronState};
00058     s->membranePot = 0; \textcolor{comment}{// set current voltage to 0.}
00059 \}
\end{DoxyCode}
\hypertarget{neuron_8c_a09e54832158e2f6abe898437979aae00}{}\index{neuron.\+c@{neuron.\+c}!reverse\+Reset\+Linear@{reverse\+Reset\+Linear}}
\index{reverse\+Reset\+Linear@{reverse\+Reset\+Linear}!neuron.\+c@{neuron.\+c}}
\subsubsection[{reverse\+Reset\+Linear}]{\setlength{\rightskip}{0pt plus 5cm}void reverse\+Reset\+Linear (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{neuron\+State}
\end{DoxyParamCaption}
)}\label{neuron_8c_a09e54832158e2f6abe898437979aae00}


Definition at line \hyperlink{neuron_8c_source_l00075}{75} of file \hyperlink{neuron_8c_source}{neuron.\+c}.



References \hyperlink{neuron_8h_source_l00146}{neuron\+State\+::membrane\+Pot}.


\begin{DoxyCode}
00075                                           \{
00076     \textcolor{keyword}{struct }\hyperlink{struct_neuron_model}{NeuronModel} *s = (\textcolor{keyword}{struct }\hyperlink{struct_neuron_model}{NeuronModel} *)
      \hyperlink{structneuron_state}{neuronState};
00077     \hyperlink{assist_8h_abe1fc1b8f9efd1187e564bcb8de7f815}{\_voltT} resetParam = (\hyperlink{assist_8h_abe1fc1b8f9efd1187e564bcb8de7f815}{\_voltT}) &resetParam;
00078     s->membranePot = s->membranePot + resetParam;
00079 \}
\end{DoxyCode}
\hypertarget{neuron_8c_ae53276ccdb759ba1ea09806cbf9fc940}{}\index{neuron.\+c@{neuron.\+c}!reverse\+Reset\+Zero@{reverse\+Reset\+Zero}}
\index{reverse\+Reset\+Zero@{reverse\+Reset\+Zero}!neuron.\+c@{neuron.\+c}}
\subsubsection[{reverse\+Reset\+Zero}]{\setlength{\rightskip}{0pt plus 5cm}void reverse\+Reset\+Zero (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{neuron\+State}
\end{DoxyParamCaption}
)}\label{neuron_8c_ae53276ccdb759ba1ea09806cbf9fc940}
\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000004}{Todo}]\+: Check that this is the proper way to handle reset zero function \end{DoxyRefDesc}


Definition at line \hyperlink{neuron_8c_source_l00081}{81} of file \hyperlink{neuron_8c_source}{neuron.\+c}.


\begin{DoxyCode}
00081                                         \{
00082 
00083 \}
\end{DoxyCode}
\hypertarget{neuron_8c_a26ced40d7ad7a0b448a136d8724fe18b}{}\index{neuron.\+c@{neuron.\+c}!rev\+Linear\+Leak@{rev\+Linear\+Leak}}
\index{rev\+Linear\+Leak@{rev\+Linear\+Leak}!neuron.\+c@{neuron.\+c}}
\subsubsection[{rev\+Linear\+Leak}]{\setlength{\rightskip}{0pt plus 5cm}void rev\+Linear\+Leak (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{neuron, }
\item[{tw\+\_\+stime}]{now}
\end{DoxyParamCaption}
)}\label{neuron_8c_a26ced40d7ad7a0b448a136d8724fe18b}


Reverse leak function neurons that have a linear leak function assigned. 


\begin{DoxyParams}{Parameters}
{\em neuron} & current neuron state \\
\hline
{\em now} & tw\+\_\+stime representing current time of simulation. \\
\hline
\end{DoxyParams}


Definition at line \hyperlink{neuron_8c_source_l00037}{37} of file \hyperlink{neuron_8c_source}{neuron.\+c}.


\begin{DoxyCode}
00037                                               \{
00038     \hyperlink{structneuron_state}{neuronState} *s = (\hyperlink{structneuron_state}{neuronState} *)neuron;
00039     tw\_stime delta = s->\hyperlink{structneuron_state_a6f4e4d8fc1cf0257b486e01f628d2656}{lastLeakTime} - now;
00040 
00041     s->\hyperlink{structneuron_state_a0fdd8f44c4105a94e17c4c58a51db486}{membranePot} += s->leakRate * delta;
00042     s->\hyperlink{structneuron_state_a6f4e4d8fc1cf0257b486e01f628d2656}{lastLeakTime} = now;
00043 \}
\end{DoxyCode}
\hypertarget{neuron_8c_ac5bebec77c5216533ec5f6acd086532e}{}\index{neuron.\+c@{neuron.\+c}!rev\+No\+Leak@{rev\+No\+Leak}}
\index{rev\+No\+Leak@{rev\+No\+Leak}!neuron.\+c@{neuron.\+c}}
\subsubsection[{rev\+No\+Leak}]{\setlength{\rightskip}{0pt plus 5cm}void rev\+No\+Leak (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{neuron, }
\item[{tw\+\_\+stime}]{now}
\end{DoxyParamCaption}
)}\label{neuron_8c_ac5bebec77c5216533ec5f6acd086532e}


Reverse leak function for use when neurons have no defined leak function. 


\begin{DoxyParams}{Parameters}
{\em neuron} & current neuron state \\
\hline
{\em now} & tw\+\_\+stime representing current time of simulation. \\
\hline
\end{DoxyParams}


Definition at line \hyperlink{neuron_8c_source_l00019}{19} of file \hyperlink{neuron_8c_source}{neuron.\+c}.


\begin{DoxyCode}
00019                                            \{
00020   \textcolor{comment}{// do nothing!!}
00021 \}
\end{DoxyCode}
