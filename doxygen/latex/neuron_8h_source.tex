\hypertarget{neuron_8h_source}{}\section{neuron.\+h}
\label{neuron_8h_source}\index{/home/mplagge/development/tnt\+\_\+benchmark/models/neuron.\+h@{/home/mplagge/development/tnt\+\_\+benchmark/models/neuron.\+h}}

\begin{DoxyCode}
00001 \textcolor{comment}{//}
00002 \textcolor{comment}{//  neuron.h}
00003 \textcolor{comment}{//  ROSS\_TOP}
00004 \textcolor{comment}{//}
00005 \textcolor{comment}{//  Created by Mark Plagge on 6/18/15.}
00006 \textcolor{comment}{//}
00007 \textcolor{comment}{//}
00008 
00009 \textcolor{preprocessor}{#ifndef \_\_ROSS\_TOP\_\_neuron\_\_}
00010 \textcolor{preprocessor}{#define \_\_ROSS\_TOP\_\_neuron\_\_}
00011 
00012 \textcolor{preprocessor}{#include <stdio.h>}
00013 \textcolor{preprocessor}{#include "../assist.h"}
00014 \textcolor{preprocessor}{#include "../mapping.h"}
00015 \textcolor{preprocessor}{#include "ross.h"}
00016 \textcolor{preprocessor}{#include <stdbool.h>}
00017 
\hypertarget{neuron_8h_source_l00023}{}\hyperlink{neuron_8h_a48885ea6be5b55a2e24de9f97552d4ee}{00023}     \textcolor{keyword}{typedef} \textcolor{keyword}{enum} NeuronFireMode \{
\hypertarget{neuron_8h_source_l00024}{}\hyperlink{neuron_8h_a48885ea6be5b55a2e24de9f97552d4eea520c6b216334b8c2d914cf9fab8cd460}{00024}   \hyperlink{neuron_8h_a48885ea6be5b55a2e24de9f97552d4eea520c6b216334b8c2d914cf9fab8cd460}{NFM} = 0  \textcolor{comment}{// normal fire mode (if voltage > threshold, fire);}
00025     \} \hyperlink{neuron_8h_a48885ea6be5b55a2e24de9f97552d4ee}{neuronFireMode};
00026 
\hypertarget{neuron_8h_source_l00033}{}\hyperlink{neuron_8h_a7362d32c8d9b6dc323f5d1b05af9855b}{00033} \textcolor{keyword}{typedef} void (*\hyperlink{structleak_fun_del}{leakFunDel})(\textcolor{keywordtype}{void} *\hyperlink{structneuron_state}{neuronState}, tw\_stime now);
00034 
00041 \textcolor{keywordtype}{void} \hyperlink{neuron_8h_a8e52befc10f975c6be39cc93af573d7e}{noLeak}(\textcolor{keywordtype}{void} *neuron, tw\_stime now);
00048 \textcolor{keywordtype}{void} \hyperlink{neuron_8h_a64dc379b459a2b07b40bce35381210e8}{linearLeak}(\textcolor{keywordtype}{void} *neuron, tw\_stime now);
00049 
00050 \textcolor{keywordtype}{void} \hyperlink{neuron_8h_a5a4f7abf694fe6ff2aa68ebd5584bc4b}{monotonicUpLeak}(\textcolor{keywordtype}{void} *neuron, tw\_stime now);
00051 \textcolor{keywordtype}{void} \hyperlink{neuron_8h_a8c023bc2fc6d628a105b460226b106f9}{monotonicDownLeak}(\textcolor{keywordtype}{void} *neuron, tw\_stime now);
00052 
00053 \textcolor{keywordtype}{void} \hyperlink{neuron_8h_a5477909af0c953cabd578adf0695e5e5}{divergentLeak}(\textcolor{keywordtype}{void} *neuron, tw\_stime now);
00054 \textcolor{keywordtype}{void} \hyperlink{neuron_8h_ad5df8be6cabf9a00abf073cee3be0362}{convergentLeak}(\textcolor{keywordtype}{void} *neuron, tw\_stime now);
00055 
\hypertarget{neuron_8h_source_l00059}{}\hyperlink{neuron_8h_abf61b10b4b6116161a9e5c9d7ac54be1}{00059} \textcolor{keyword}{typedef} void (*\hyperlink{structreverse_leak_del}{reverseLeakDel})(\textcolor{keywordtype}{void} *neuron, tw\_stime now);
00060 
00067 \textcolor{keywordtype}{void} \hyperlink{neuron_8h_ac5bebec77c5216533ec5f6acd086532e}{revNoLeak}(\textcolor{keywordtype}{void} *neuron, tw\_stime now);
00068 
00075 \textcolor{keywordtype}{void} \hyperlink{neuron_8h_a26ced40d7ad7a0b448a136d8724fe18b}{revLinearLeak}(\textcolor{keywordtype}{void} *neuron, tw\_stime now);
00076 
\hypertarget{neuron_8h_source_l00080}{}\hyperlink{unionreset_rate}{00080} \textcolor{keyword}{typedef} \textcolor{keyword}{union }ResetRate \{
\hypertarget{neuron_8h_source_l00081}{}\hyperlink{unionreset_rate_a4bf8a23e4a9874ff73208c681eae1ced}{00081}     \textcolor{keywordtype}{int} \hyperlink{unionreset_rate_a4bf8a23e4a9874ff73208c681eae1ced}{linearRate};
\hypertarget{neuron_8h_source_l00082}{}\hyperlink{unionreset_rate_a54aaba14ce85fd9c5d7b385d98727e36}{00082}     \textcolor{keywordtype}{float} \hyperlink{unionreset_rate_a54aaba14ce85fd9c5d7b385d98727e36}{nonLinearRate};
\hypertarget{neuron_8h_source_l00083}{}\hyperlink{unionreset_rate_a5a9af6c017d8b70e4db9283f2f7e726b}{00083}     \hyperlink{assist_8h_abe1fc1b8f9efd1187e564bcb8de7f815}{\_voltT} \hyperlink{unionreset_rate_a5a9af6c017d8b70e4db9283f2f7e726b}{voltRate};
00084 \} \hyperlink{unionreset_rate}{resetRate};
00085 
\hypertarget{neuron_8h_source_l00094}{}\hyperlink{neuron_8h_ae7e5990745cd949246894bfb633ca4a2}{00094} \textcolor{keyword}{typedef} void (*\hyperlink{neuron_8h_ae7e5990745cd949246894bfb633ca4a2}{resetFunDel})(\textcolor{keywordtype}{void} *\hyperlink{structneuron_state}{neuronState});
00103 \textcolor{keywordtype}{void} \hyperlink{neuron_8h_a233aa7ebe6cbfb664fe366a05a8dac1f}{resetNormal}(\textcolor{keywordtype}{void} *\hyperlink{structneuron_state}{neuronState});
00104 
00110 \textcolor{keywordtype}{void} \hyperlink{neuron_8h_a2e78d7d2b70bf7349c3854b3727dcc25}{resetLinear}(\textcolor{keywordtype}{void} *\hyperlink{structneuron_state}{neuronState});
00116 \textcolor{keywordtype}{void} \hyperlink{neuron_8h_a6e11be912b4860cd1978b2d8c49b9703}{resetNone}(\textcolor{keywordtype}{void} *\hyperlink{structneuron_state}{neuronState});
00117 
00118 
00119 
\hypertarget{neuron_8h_source_l00125}{}\hyperlink{neuron_8h_aa939c0acc5b3367975f2f0cb7bc36d17}{00125} \textcolor{keyword}{typedef} void (*\hyperlink{neuron_8h_aa939c0acc5b3367975f2f0cb7bc36d17}{reverseResetDel})(\textcolor{keywordtype}{void} *\hyperlink{structneuron_state}{neuronState});
00126 
00127 \textcolor{keywordtype}{void} \hyperlink{neuron_8h_a09e54832158e2f6abe898437979aae00}{reverseResetLinear}(\textcolor{keywordtype}{void} *\hyperlink{structneuron_state}{neuronState});
00128 
00129 \textcolor{keywordtype}{void} \hyperlink{neuron_8h_ae53276ccdb759ba1ea09806cbf9fc940}{reverseResetZero}(\textcolor{keywordtype}{void} *\hyperlink{structneuron_state}{neuronState});
00130 
00131 \textcolor{keywordtype}{void} \hyperlink{neuron_8h_a50b2475c0a8d745eb8f144b72d7eabdf}{reverseResetNone}(\textcolor{keywordtype}{void} *\hyperlink{structneuron_state}{neuronState});
00132 
00133 
00134 
\hypertarget{neuron_8h_source_l00144}{}\hyperlink{structneuron_state}{00144} \textcolor{keyword}{typedef} \textcolor{keyword}{struct }NeuronModel \{
00147         \textcolor{comment}{//IDs and Lookup info}
\hypertarget{neuron_8h_source_l00148}{}\hyperlink{structneuron_state_a76ef99e5766b6e36c3f41a2920e8c56c}{00148}     \hyperlink{assist_8h_a3f7a6e6a1210b6d9d7a42177dcb9634b}{\_idT} \hyperlink{structneuron_state_a76ef99e5766b6e36c3f41a2920e8c56c}{myCoreID}; 
\hypertarget{neuron_8h_source_l00149}{}\hyperlink{structneuron_state_ac24762c24aede292a2ce5df78114881c}{00149}     \hyperlink{assist_8h_a3f7a6e6a1210b6d9d7a42177dcb9634b}{\_idT} \hyperlink{structneuron_state_ac24762c24aede292a2ce5df78114881c}{myLocalID}; 
00150 
00152         \textcolor{comment}{//Proper state information}
\hypertarget{neuron_8h_source_l00153}{}\hyperlink{structneuron_state_a0fdd8f44c4105a94e17c4c58a51db486}{00153}     \hyperlink{assist_8h_abe1fc1b8f9efd1187e564bcb8de7f815}{\_voltT} \hyperlink{structneuron_state_a0fdd8f44c4105a94e17c4c58a51db486}{membranePot}; 
\hypertarget{neuron_8h_source_l00154}{}\hyperlink{structneuron_state_a5efe5de0478ea513ed5d90d89a49fcca}{00154}     \hyperlink{assist_8h_abe1fc1b8f9efd1187e564bcb8de7f815}{\_voltT} \hyperlink{structneuron_state_a5efe5de0478ea513ed5d90d89a49fcca}{savedMembranePot}; 
\hypertarget{neuron_8h_source_l00155}{}\hyperlink{structneuron_state_a132470c4c17828c209e3403ccf7ee680}{00155}     \hyperlink{assist_8h_a5537d30256d443ce07efd3d879a4a720}{\_threshT} \hyperlink{structneuron_state_a132470c4c17828c209e3403ccf7ee680}{threshold}; 
\hypertarget{neuron_8h_source_l00156}{}\hyperlink{structneuron_state_a678bcd9f031e290178cd5d2855e74279}{00156}     \hyperlink{assist_8h_a5537d30256d443ce07efd3d879a4a720}{\_threshT} \hyperlink{structneuron_state_a678bcd9f031e290178cd5d2855e74279}{negativeThreshold}; 
\hypertarget{neuron_8h_source_l00157}{}\hyperlink{structneuron_state_aa501d6ee7cacd5435deec79c07637b08}{00157}     \hyperlink{assist_8h_a5537d30256d443ce07efd3d879a4a720}{\_threshT} \hyperlink{structneuron_state_aa501d6ee7cacd5435deec79c07637b08}{thresholdPRNMask}; 
\hypertarget{neuron_8h_source_l00158}{}\hyperlink{structneuron_state_a296a4f04813c4882d6acd8c9074abd35}{00158}     \hyperlink{assist_8h_a520ac495f188eb0bc5645cffa3c4328b}{\_randT} \hyperlink{structneuron_state_a296a4f04813c4882d6acd8c9074abd35}{drawnRandomNumber}; 
00159 
\hypertarget{neuron_8h_source_l00160}{}\hyperlink{structneuron_state_af69a2c108fe9e7154fa047ea5acc5d80}{00160}     \hyperlink{assist_8h_abe1fc1b8f9efd1187e564bcb8de7f815}{\_voltT} \hyperlink{structneuron_state_af69a2c108fe9e7154fa047ea5acc5d80}{resetVoltage}; 
\hypertarget{neuron_8h_source_l00161}{}\hyperlink{structneuron_state_a0658ad1f8b57a00589c6ea84f9a4ab13}{00161}     tw\_stime \hyperlink{structneuron_state_a0658ad1f8b57a00589c6ea84f9a4ab13}{lastActiveTime}; 
\hypertarget{neuron_8h_source_l00162}{}\hyperlink{structneuron_state_a6f4e4d8fc1cf0257b486e01f628d2656}{00162}     tw\_stime \hyperlink{structneuron_state_a6f4e4d8fc1cf0257b486e01f628d2656}{lastLeakTime};
\hypertarget{neuron_8h_source_l00164}{}\hyperlink{structneuron_state_a6922b3f3041346eb83cfc6352a22277b}{00164}     tw\_stime \hyperlink{structneuron_state_a6922b3f3041346eb83cfc6352a22277b}{savedLastActiveTime};
\hypertarget{neuron_8h_source_l00165}{}\hyperlink{structneuron_state_a50734a9ba605a083a90814b63d039a03}{00165}     tw\_stime \hyperlink{structneuron_state_a50734a9ba605a083a90814b63d039a03}{savedLastLeakTime}; 
\hypertarget{neuron_8h_source_l00166}{}\hyperlink{structneuron_state_af8935bcba177f2f3dfb9119c39ef7dc5}{00166}     uint\_fast16\_t \hyperlink{structneuron_state_af8935bcba177f2f3dfb9119c39ef7dc5}{receivedSynapseMsgs}; 
00173     \textcolor{comment}{/* neuron firing parameters */}
\hypertarget{neuron_8h_source_l00174}{}\hyperlink{structneuron_state_a55890f9e021064df30e9d18a9df98845}{00174}     \hyperlink{neuron_8h_a48885ea6be5b55a2e24de9f97552d4ee}{neuronFireMode} \hyperlink{structneuron_state_a55890f9e021064df30e9d18a9df98845}{fireMode}; 
00175 
\hypertarget{neuron_8h_source_l00177}{}\hyperlink{structneuron_state_afcf9d931e4fda519c43b4efeab687463}{00177}     \hyperlink{neuron_8h_ae7e5990745cd949246894bfb633ca4a2}{resetFunDel} \hyperlink{structneuron_state_afcf9d931e4fda519c43b4efeab687463}{doReset}; 
00178 
00179         \textcolor{comment}{//** as a test, this is the 𝛾 value - trying out mathematical reset style */}
\hypertarget{neuron_8h_source_l00180}{}\hyperlink{structneuron_state_af67bb650aa3150a6a31e16a874d71f91}{00180}     \textcolor{keywordtype}{short} \textcolor{keywordtype}{int} \hyperlink{structneuron_state_af67bb650aa3150a6a31e16a874d71f91}{resetMode};
00181 
\hypertarget{neuron_8h_source_l00182}{}\hyperlink{structneuron_state_a3ec480684e7a2cfc67a8ef7ac1bf57b9}{00182}     \textcolor{keywordtype}{bool} \hyperlink{structneuron_state_a3ec480684e7a2cfc67a8ef7ac1bf57b9}{negThresReset}; 
00183 
\hypertarget{neuron_8h_source_l00184}{}\hyperlink{structneuron_state_abf6970098695585c81e101b2a741b9a5}{00184}     \hyperlink{neuron_8h_aa939c0acc5b3367975f2f0cb7bc36d17}{reverseResetDel} \hyperlink{structneuron_state_abf6970098695585c81e101b2a741b9a5}{reverseReset}; 
00185 
00186         \textcolor{comment}{//Weight parameters}
\hypertarget{neuron_8h_source_l00187}{}\hyperlink{structneuron_state_aa71c0acf1edf08865e1f9729a2414efa}{00187}     \hyperlink{assist_8h_aa73c5ea0fe4ba938c96e6771b38dcb2a}{\_weightT} *\hyperlink{structneuron_state_aa71c0acf1edf08865e1f9729a2414efa}{synapticWeightProb}; 
\hypertarget{neuron_8h_source_l00192}{}\hyperlink{structneuron_state_a4568f103808a436a62d7c7c47dc90e9b}{00192}     \textcolor{keywordtype}{bool} *\hyperlink{structneuron_state_a4568f103808a436a62d7c7c47dc90e9b}{synapticWeightProbSelect}; 
00199         \textcolor{comment}{//Output locations:}
\hypertarget{neuron_8h_source_l00200}{}\hyperlink{structneuron_state_a62463fa4d33c39297aa5ce3a145d474f}{00200}     \hyperlink{assist_8h_a3f7a6e6a1210b6d9d7a42177dcb9634b}{\_idT} \hyperlink{structneuron_state_a62463fa4d33c39297aa5ce3a145d474f}{dendriteCore}; 
\hypertarget{neuron_8h_source_l00201}{}\hyperlink{structneuron_state_a73e5b16411af572181411b8fd8d5117d}{00201}     \hyperlink{assist_8h_a3f7a6e6a1210b6d9d7a42177dcb9634b}{\_idT} \hyperlink{structneuron_state_a73e5b16411af572181411b8fd8d5117d}{dendriteLocal}; 
\hypertarget{neuron_8h_source_l00202}{}\hyperlink{structneuron_state_a4199c14c5aabfd52f441e01623bdc84c}{00202}     tw\_lpid \hyperlink{structneuron_state_a4199c14c5aabfd52f441e01623bdc84c}{dendriteGlobalDest}; 
00203 
00204         \textcolor{comment}{//Leak functionality}
\hypertarget{neuron_8h_source_l00205}{}\hyperlink{structneuron_state_aa430f424f34dc59dc27736e27ec61320}{00205}     \hyperlink{structleak_fun_del}{leakFunDel} \hyperlink{structneuron_state_aa430f424f34dc59dc27736e27ec61320}{doLeak}; 
\hypertarget{neuron_8h_source_l00206}{}\hyperlink{structneuron_state_af4ded7f575b64ada6c0a6664f638307c}{00206}     \hyperlink{structreverse_leak_del}{reverseLeakDel} \hyperlink{structneuron_state_af4ded7f575b64ada6c0a6664f638307c}{doLeakReverse}; 
00207 
\hypertarget{neuron_8h_source_l00208}{}\hyperlink{structneuron_state_ac580cc92949834b3675de3aae267e8e7}{00208}     \hyperlink{assist_8h_aa73c5ea0fe4ba938c96e6771b38dcb2a}{\_weightT} \hyperlink{structneuron_state_ac580cc92949834b3675de3aae267e8e7}{leakRateProb}; 
\hypertarget{neuron_8h_source_l00209}{}\hyperlink{structneuron_state_a20889d9b55895bcc719d6aad2766b8f8}{00209}     \textcolor{keywordtype}{bool} \hyperlink{structneuron_state_a20889d9b55895bcc719d6aad2766b8f8}{leakWeightProbSelect}; 
00210 
\hypertarget{neuron_8h_source_l00211}{}\hyperlink{structneuron_state_a11691cf6bf906102089c842e78be55fe}{00211}     \textcolor{keywordtype}{bool} \hyperlink{structneuron_state_a11691cf6bf906102089c842e78be55fe}{leakReversalFlag}; 
00212 
00213         \textcolor{comment}{//Stats}
\hypertarget{neuron_8h_source_l00214}{}\hyperlink{structneuron_state_afe8825076c4cf3863c677307fec63c61}{00214}     \hyperlink{assist_8h_ad77e6fc5a9b03d46e7c97b7c4b92e89f}{\_statT} \hyperlink{structneuron_state_afe8825076c4cf3863c677307fec63c61}{fireCount}; 
\hypertarget{neuron_8h_source_l00215}{}\hyperlink{structneuron_state_ab8f63a1dfdb2992657530ff8a63fdc01}{00215}     \hyperlink{assist_8h_ad77e6fc5a9b03d46e7c97b7c4b92e89f}{\_statT} \hyperlink{structneuron_state_ab8f63a1dfdb2992657530ff8a63fdc01}{rcvdMsgCount}; 
\hypertarget{neuron_8h_source_l00216}{}\hyperlink{structneuron_state_a71fbb9a79e8048b473b6e09d29a64bbe}{00216}     \hyperlink{assist_8h_ad77e6fc5a9b03d46e7c97b7c4b92e89f}{\_statT} \hyperlink{structneuron_state_a71fbb9a79e8048b473b6e09d29a64bbe}{SOPSCount}; 
00217 
\hypertarget{neuron_8h_source_l00218}{}\hyperlink{structneuron_state_a287eb8703dbfb177165d31c8840646b8}{00218}     \textcolor{keywordtype}{bool} \hyperlink{structneuron_state_a287eb8703dbfb177165d31c8840646b8}{firedLast}; 
00219 
00220 \}\hyperlink{structneuron_state}{neuronState};
00221 
00222 \textcolor{comment}{/* ***Neuron functions */}
00232 \textcolor{keywordtype}{void} \hyperlink{neuron_8h_a01dcc8e3f0132786bd59ecb847013284}{neuronReverseFinal}(\hyperlink{structneuron_state}{neuronState} *s, tw\_bf *CV,
      \hyperlink{struct_msg___data}{Msg\_Data} *m,tw\_lp *lp);
00233 
00243 \textcolor{keywordtype}{void} \hyperlink{neuron_8h_aa6819d7492f0173f2234ba0b8b0bb674}{neuronReceiveMessage}(\hyperlink{structneuron_state}{neuronState} *st, tw\_stime time, 
      \hyperlink{struct_msg___data}{Msg\_Data} *m,
00244                           tw\_lp *lp);
00246 \textcolor{keywordtype}{void} \hyperlink{neuron_8h_a683379b633b55058dd5b8b67929c165c}{neuronFire}(\hyperlink{structneuron_state}{neuronState} *st, tw\_stime time, tw\_lp *lp);
00247 
00248 
00254 \textcolor{keywordtype}{void} \hyperlink{neuron_8h_ae630bdf5dd3744870968f07a6971659c}{integrateSynapse}(\hyperlink{assist_8h_a3f7a6e6a1210b6d9d7a42177dcb9634b}{\_idT} synapseID,\hyperlink{structneuron_state}{neuronState} *st, tw\_lp *lp);
00255 
00262 \textcolor{keywordtype}{void} \hyperlink{neuron_8h_a766dff9e530486b055e97ebe392268b8}{sendHeartbeat}(\hyperlink{structneuron_state}{neuronState} *st, tw\_lp *lp, tw\_stime time);
00263 
00271 \textcolor{keywordtype}{bool} \hyperlink{neuron_8h_a3520b013e0c2f711b9f5c16e19306be6}{neuronShouldFire}(\hyperlink{structneuron_state}{neuronState} *st, tw\_lp *lp);
00272 
00281 \textcolor{keywordtype}{void} \hyperlink{neuron_8h_aabaff47eadb1e61b34c19b6e982f6511}{neuronPostIntegrate}(\hyperlink{structneuron_state}{neuronState} *st, tw\_stime time, tw\_lp *lp, \textcolor{keywordtype}{bool} 
      willFire);
00289 \textcolor{keywordtype}{void} \hyperlink{neuron_8h_afee2e0acc66d8d10aee8d52c8d245c82}{stochasticIntegrate}(\hyperlink{assist_8h_aa73c5ea0fe4ba938c96e6771b38dcb2a}{\_weightT} weight, \hyperlink{structneuron_state}{neuronState} *st, tw\_lp *lp)
      ;
00290 
00291 
00292 \textcolor{keywordtype}{void} \hyperlink{neuron_8h_aaae24f12a4b2a537740f29d65eb3e51e}{neronReverseSate}(\hyperlink{structneuron_state}{neuronState} *s, tw\_bf *CV, 
      \hyperlink{struct_msg___data}{Msg\_Data} *M, tw\_lp *lp);
00293 
00294 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* defined(\_\_ROSS\_TOP\_\_neuron\_\_) */}\textcolor{preprocessor}{}
\end{DoxyCode}
